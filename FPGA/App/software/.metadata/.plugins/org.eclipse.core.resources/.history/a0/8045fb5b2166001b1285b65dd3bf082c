#include "stream_transmitter.hpp"
#include "driver/adc2.hpp"
#include <stream_data.hpp>

static StreamDataAdc2_t StreamDataAdc2;
static constexpr StreamDataDesciptor<StreamDataAdc2_t> StreamDataDesciptorAdc2(&StreamDataAdc2, StreamIdAdc2);

bool StreamTransmitter::TransmitAdc2(void) {
    StreamDataAdc2.dc48v_voltage = Adc2::GetDc48v();
    StreamDataAdc2.dribble_current = Adc2::GetDribbleCurrent();
    StreamDataDesciptorAdc2.TransmitSync(_Device);
}

alt_msgdma_dev *StreamTransmitter::_Device;
